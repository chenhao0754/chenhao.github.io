<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90抑郁症测试问卷</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
        body { background: #f5f7fa; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 20px; }
        .instructions { background: #e8f4fc; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .question { margin-bottom: 20px; padding: 15px; border: 1px solid #eee; border-radius: 5px; }
        .options { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
        .option { display: flex; align-items: center; }
        .option input { margin-right: 5px; }
        .btn { background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px; }
        .btn:hover { background: #2980b9; }
        .result { display: none; margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 5px; }
        .score { font-size: 24px; font-weight: bold; text-align: center; margin: 10px 0; }
        .interpretation { margin-top: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>SCL-90抑郁症测试问卷</h1>
        
        <div class="instructions">
            <p><strong>测试说明：</strong>请根据您最近一周的感受选择最符合的选项。</p>
            <p>评分标准：1=没有，2=很轻，3=中度，4=偏重，5=严重</p>
        </div>
        
        <form id="scl90-form">
            <!-- 题目将通过JavaScript动态生成 -->
        </form>
        
        <div style="text-align: center; margin: 20px 0;">
            <button class="btn" id="submit-btn">提交测试</button>
        </div>
        
        <div class="result" id="result-container">
            <h2>测试结果</h2>
            <div class="score">抑郁因子分: <span id="depression-score">0.00</span></div>
            <div class="interpretation">
                <p id="interpretation-text"></p>
                <p id="recommendation-text"></p>
            </div>
        </div>
    </div>

    <script>
        // SCL-90完整90个题目
        const questions = [
            "头痛", "神经过敏，心中不踏实", "头脑中有不必要的想法或字句盘旋", "头昏或昏倒", "对异性的兴趣减退",
            "对旁人责备求全", "感到别人能控制你的思想", "责怪别人制造麻烦", "忘记性大", "担心自己的衣饰整齐及仪态的端正",
            "容易烦恼和激动", "胸痛", "害怕空旷的场所或街道", "感到自己的精力下降，活动减慢", "想结束自己的生命",
            "听到旁人听不到的声音", "发抖", "感到大多数人都不可信任", "胃口不好", "容易哭泣",
            "同异性相处时感到害羞不自在", "感到受骗，中了圈套或有人想抓您", "无缘无故地突然感到害怕", "自己不能控制地大发脾气", "怕单独出门",
            "经常责怪自己", "腰痛", "感到难以完成任务", "感到孤独", "感到苦闷",
            "过分担忧", "对事物不感兴趣", "感到害怕", "我的感情容易受到伤害", "旁人能知道您的私下想法",
            "感到别人不理解您不同情你", "感到人们对你不友好，不喜欢您", "做事必须做得很慢以保证做得正确", "心跳得很厉害", "恶心或胃部不舒服",
            "感到比不上他人", "肌肉酸痛", "感到有人在监视您谈论您", "难以入睡", "做事必须反复检查",
            "难以作出决定", "怕乘电车、公共汽车、地铁或火车", "呼吸有困难", "一阵阵发冷或发热", "因为感到害怕而避开某些东西，场合或活动",
            "脑子变空了", "身体发麻或刺痛", "喉咙有梗塞感", "感到对前途没有希望", "不能集中注意力",
            "感到身体的某一部分较弱无力", "感到紧张或容易紧张", "感到手或脚发沉", "想到有关死亡的事", "吃得太多",
            "当别人看着您或谈论您时感到不自在", "有一些不属于您自己的想法", "有想打人或伤害他人的冲动", "醒得太早", "必须反复洗手、点数目或触摸某些东西",
            "睡得不稳不深", "有想摔坏或破坏东西的冲动", "有一些别人没有的想法或念头", "感到对别人神经过敏", "在商店或电影院等人多的地方感到不自在",
            "感到任何事情都很难做", "一阵阵恐惧或惊恐", "感到在公共场合吃东西很不舒服", "经常与人争论", "单独一人时神经很紧张",
            "别人对您的成绩没有作出恰当的评价", "即使和别人在一起也感到狐单", "感到坐立不安心神不宁", "感到自己没有什么价值", "感到熟悉的东西变成陌生或不象是真的",
            "大叫或摔东西", "害怕会在公共场合昏倒", "感到别人想占您的便宜", "为一些有关\"性\"的想法而很苦恼", "认为应该因为自己的过错而受到惩罚",
            "感到要赶快把事情做完", "感到自己的身体有严重问题", "从未感到和其他人很亲近", "感到自己有罪", "感到自己的脑子有毛病"
        ];
        
        // 抑郁因子题目索引（0-based）
        const depressionIndices = [4, 13, 14, 19, 21, 25, 28, 29, 30, 31, 53, 70, 78];
        
        // 初始化问卷
        function initQuestionnaire() {
            const form = document.getElementById('scl90-form');
            form.innerHTML = '';
            
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                const questionTitle = document.createElement('div');
                questionTitle.innerHTML = `<strong>${index + 1}. ${question}</strong>`;
                questionDiv.appendChild(questionTitle);
                
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';
                
                for (let i = 1; i <= 5; i++) {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.name = `q${index}`;
                    input.value = i;
                    input.id = `q${index}_${i}`;
                    
                    const label = document.createElement('label');
                    label.htmlFor = `q${index}_${i}`;
                    label.textContent = `${i}分`;
                    
                    optionDiv.appendChild(input);
                    optionDiv.appendChild(label);
                    optionsDiv.appendChild(optionDiv);
                }
                
                questionDiv.appendChild(optionsDiv);
                form.appendChild(questionDiv);
            });
        }
        
        // 计算测试结果
        function calculateResults() {
            const scores = [];
            
            // 收集所有题目的分数
            for (let i = 0; i < questions.length; i++) {
                const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                scores.push(selectedOption ? parseInt(selectedOption.value) : 0);
            }
            
            // 计算抑郁因子分
            let depressionTotal = 0;
            depressionIndices.forEach(index => {
                depressionTotal += scores[index];
            });
            
            const depressionFactorScore = depressionTotal / depressionIndices.length;
            
            // 显示结果
            showResults(depressionFactorScore);
        }
        
        // 显示结果
        function showResults(score) {
            document.getElementById('depression-score').textContent = score.toFixed(2);
            
            let interpretation = '';
            let recommendation = '';
            
            if (score < 1.5) {
                interpretation = '您的抑郁因子分在正常范围内（<1.5），表明您当前的情绪状态较为稳定，无明显抑郁症状。';
                recommendation = '继续保持健康的生活习惯，关注自身情绪变化，定期进行自我评估。';
            } else if (score < 2) {
                interpretation = '您的抑郁因子分略高于常模（1.5-1.99），可能存在轻度抑郁情绪。';
                recommendation = '建议关注自己的情绪变化，尝试通过运动、冥想、社交等方式缓解压力。如果症状持续，可考虑寻求心理咨询。';
            } else if (score < 3) {
                interpretation = '您的抑郁因子分明显偏高（2.0-2.99），可能存在中度抑郁倾向。';
                recommendation = '建议寻求专业心理咨询师的帮助，进行更深入的评估和干预。同时可以尝试建立规律的作息和健康的生活方式。';
            } else {
                interpretation = '您的抑郁因子分显著偏高（≥3.0），可能存在较严重的抑郁症状。';
                recommendation = '强烈建议您尽快寻求专业心理医生或精神科医生的帮助。抑郁是可以治疗的，及时求助非常重要。';
            }
            
            document.getElementById('interpretation-text').textContent = interpretation;
            document.getElementById('recommendation-text').textContent = recommendation;
            document.getElementById('result-container').style.display = 'block';
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            initQuestionnaire();
            
            // 提交按钮事件
            document.getElementById('submit-btn').addEventListener('click', () => {
                // 检查是否所有题目都已回答
                const answered = document.querySelectorAll('input[type="radio"]:checked').length;
                if (answered < questions.length) {
                    alert(`您还有${questions.length - answered}题未完成，请完成所有题目后再提交。`);
                    return;
                }
                
                calculateResults();
            });
        });
    </script>
</body>
</html>
